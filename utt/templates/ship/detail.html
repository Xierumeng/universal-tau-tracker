{% extends "base.html" %}
{% block title %}Tau Station: {{ ship.name|escape }} in the Ship Registry{% endblock %}
{% block content %}

<h2 id="details">Ship Details</h2>

<table>
    <tbody>
        <tr>
            <th class="right">Name<th>
            <td>{{ ship.name | escape }}</td>
        </tr>
        <tr>
            <th class="right">Captain<th>
            <td>{{ ship.captain | escape }}</td>
        </tr>
        <tr>
            <th class="right">Registration<th>
            <td>{{ ship.registration | escape }}</td>
        </tr>
        <tr>
            <th class="right">Class<th>
            <td>{{ ship.ship_class.name | escape }}</td>
        </tr>
    </tbody>
</table>


{% if ship.siblings.count() %}
<h2 id="siblings">Other ships by the same captain</h2>
<ul>
{% for sibling in ship.siblings %}
    <li><a href="/ship/{{ sibling.registration | escape }}">{{ sibling.name }} ({{sibling.ship_class.name}})</a></li>
{% endfor %}
</ul>

{% endif %}

<h2 id="sightings">Sightings</h2>

<table>
    <thead>
        <tr>
            <th>Station</th>
            <th># sightings</th>
            <th>first seen</th>
            <th>last seen</th>
        </tr>
    </thead>
    <tbody>
        {% for s in ship.sighting_streaks %}
            <tr>
                <td>{{ s.station.short|escape }}</td>
                <td>{{ s.sightings|length }}</td>
                <td>{{ format_datetime(s.first.when) }}</td>
                <td>{{ format_datetime(s.last.when) }}</td>
            </tr>
        {% endfor %}
    </tbody>
</table>

{% set min_jumps = ship.min_jumps %}
{% if min_jumps %}
    <p>Observed interstellar jumps: {{ min_jumps }}.</p>
{% endif %}


{% endblock %}

